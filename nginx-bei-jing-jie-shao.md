---
description: 介绍nginx的相关背景以及扩展知识
---

# nginx背景介绍

## 什么是nginx

nginx是俄罗斯人lgor sysoev编写的十分轻量级的HTTP服务器，发音为“engine X”，是一个高性能的HTTP和反向代理服务器，同时也是一个IMAP/POP3/SMTP代理服务器。

nginx是以事件驱动的方式编写的，所以有非常好的性能，同时也是一个非常高效的反向代理，负载均衡。器拥有匹配Lighttpd的性能，同时还没有lighttpd的内存泄露问题。

{% hint style="info" %}
####  事件驱动：

是指在持续事务管理过程中，进行决策的一种策略，即跟随当前时间点上出现的事件，调用可用资源，执行相关任务，使得不断出现的问题得以解决，防止事务堆积。

1、事件驱动的核心是事件，从事件角度说，事件驱动程序的基本结构是有一个事件收集器、一个事件发送器和一个事件处理器组成的：

事件收集器：收集所有事件，比如外设事件，软硬件事件

事件发送器：将收集到的事件分发到目标对象中

事件处理器：做具体的事件响应工作，他往往要到实现阶段才完全确定，因此需要运用虚函数机制

2、视图/窗口，是事件驱动应用程序的另一个要元。它是事件发送器的目标对象。视图接受事件并能够对其进行处理。
{% endhint %}

{% hint style="info" %}
#### 虚函数：

在面向对象程序设计领域，有虚函数/虚方法的概念。这种函数或方法可以被子类继承和覆盖，通常使用动态调度实现。虚函数给出目标函数的定义，但该目标的具体指向在编译器可能无法确定。（就是抽象函数，在运行时才能真正调用确切的函数）
{% endhint %}

## Nginx的特点

#### 处理静态文件，索引文件以及自助索引，打开文件描述符

{% hint style="info" %}
文件描述符：

在Linux系统中打开文件就会获得文件描述符，它是一个很小的非负数。

每个进程在PCB（process control block）中保存着一份文件描述符表，文件描述符就是这个表的索引，每个表项都有一个指向已经打开文件的指针。

在c语言中，可以通过open或create获得文件描述符，或通过父进程继承。

文件描述符也称句柄
{% endhint %}

{% hint style="info" %}
文件指针：

c语言中使用文件指针作为I/O的句柄。文件指针指向进程用户区中的一个被称为FILE结构的数据结构。FILE结构包括一个缓冲区和一个文件描述符。而文件描述符时文件描述符表的一个索引，因此从某种意义上说，文件指针就是句柄的句柄。
{% endhint %}

{% hint style="info" %}
句柄：

指一种特殊的智能指针，当一个应用程序要引用其他系统，如数据库、操作系统所管理的内存块或对象时，就要使用句柄
{% endhint %}

{% hint style="warning" %}
每个进程能持有的文件描述符数有限的，一般为65536
{% endhint %}

#### 无缓存的后向代理加速，简单的负载均衡和容错

#### FastCGI，简单的负载均衡和容错

#### 模块化的结构，包括gzipping，byte ranges，chunked responses，以及SSI-filter等filter。如果由FastCGI或其它代理服务器处理但也存在的多个SSI，则这项处理可以并行运行，而不需要互相等待。

#### 支持SSL和TLS SNI

